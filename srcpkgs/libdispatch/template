# Template file for 'libdispatch'
pkgname=libdispatch
version=5.5.3
revision=1
create_wrksrc=yes
build_style=cmake
configure_args="-DCMAKE_C_COMPILER=clang -DCMAKE_CXX_COMPILER=clang++ -DCMAKE_INSTALL_PREFIX:PATH=/usr "
hostmakedepends="ninja clang git"
makedepends="patch"
short_desc="Libdispatch - library for concurrent code execution on multicore"
maintainer="Ilya <ISPonomarev@yahoo.com>"
license="Apache-2.0"
homepage="https://github.com/apple/swift-corelibs-libdispatch"
distfiles="https://github.com/apple/swift-corelibs-libdispatch/archive/swift-${version}-RELEASE.tar.gz>${pkgname}-${version}.tar.gz"
checksum="dc0912c2812953c84eea996358abd6a2dbeb97f334d5c1d4064e077ca43d569f"

pre_patch() {
       mv -v ./*/* ./
       mkdir build
}


libdispatch-devel_package() {
	short_desc+=" - development files"
	depends="${sourcepkg}>=${version}_${revision}"
	pkg_install() {
		vmove usr/include
	}
}
